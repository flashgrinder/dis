!function i(n,s,r){function a(t,e){if(!s[t]){if(!n[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(d)return d(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}o=s[t]={exports:{}},n[t][0].call(o.exports,function(e){return a(n[t][1][e]||e)},o,o.exports,i,n,s,r)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<r.length;e++)a(r[e]);return a}({1:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.config=Object.assign({backscroll:!0,linkAttributeName:"data-hystmodal",closeOnOverlay:!0,closeOnEsc:!0,closeOnButton:!0,waitTransitions:!1,catchFocus:!0,fixedSelectors:"*[data-hystfixed]",beforeOpen:function(){},afterClose:function(){}},e),this.config.linkAttributeName&&this.init(),this._closeAfterTransition=this._closeAfterTransition.bind(this)}var e,o,i;return e=t,(o=[{key:"init",value:function(){this.isOpened=!1,this.openedWindow=!1,this.starter=!1,this._nextWindows=!1,this._scrollPosition=0,this._reopenTrigger=!1,this._overlayChecker=!1,this._isMoved=!1,this._focusElements=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this._modalBlock=!1;var e=document.querySelector(".hystmodal__shadow");e?this.shadow=e:(this.shadow=document.createElement("div"),this.shadow.classList.add("hystmodal__shadow"),document.body.appendChild(this.shadow)),this.eventsFeeler()}},{key:"eventsFeeler",value:function(){var o=this;document.addEventListener("click",function(e){var t=e.target.closest("[".concat(o.config.linkAttributeName,"]"));if(!o._isMoved&&t)return e.preventDefault(),o.starter=t,t=o.starter.getAttribute(o.config.linkAttributeName),o._nextWindows=document.querySelector(t),void o.open();o.config.closeOnButton&&e.target.closest("[data-hystclose]")&&o.close()}),this.config.closeOnOverlay&&(document.addEventListener("mousedown",function(e){!o._isMoved&&e.target instanceof Element&&!e.target.classList.contains("hystmodal__wrap")||(o._overlayChecker=!0)}),document.addEventListener("mouseup",function(e){if(!o._isMoved&&e.target instanceof Element&&o._overlayChecker&&e.target.classList.contains("hystmodal__wrap"))return e.preventDefault(),o._overlayChecker=!o._overlayChecker,void o.close();o._overlayChecker=!1})),window.addEventListener("keydown",function(e){if(!o._isMoved&&o.config.closeOnEsc&&27===e.which&&o.isOpened)return e.preventDefault(),void o.close();!o._isMoved&&o.config.catchFocus&&9===e.which&&o.isOpened&&o.focusCatcher(e)})}},{key:"open",value:function(e){if(e&&(this._nextWindows="string"==typeof e?document.querySelector(e):e),this._nextWindows){if(this.isOpened)return this._reopenTrigger=!0,void this.close();this.openedWindow=this._nextWindows,this._modalBlock=this.openedWindow.querySelector(".hystmodal__window"),this.config.beforeOpen(this),this._bodyScrollControl(),this.shadow.classList.add("hystmodal__shadow--show"),this.openedWindow.classList.add("hystmodal--active"),this.openedWindow.setAttribute("aria-hidden","false"),this.config.catchFocus&&this.focusControl(),this.isOpened=!0}else console.log("Warning: hystModal selector is not found")}},{key:"close",value:function(){this.isOpened&&(this.config.waitTransitions?(this.openedWindow.classList.add("hystmodal--moved"),this._isMoved=!0,this.openedWindow.addEventListener("transitionend",this._closeAfterTransition),this.openedWindow.classList.remove("hystmodal--active")):(this.openedWindow.classList.remove("hystmodal--active"),this._closeAfterTransition()))}},{key:"_closeAfterTransition",value:function(){this.openedWindow.classList.remove("hystmodal--moved"),this.openedWindow.removeEventListener("transitionend",this._closeAfterTransition),this._isMoved=!1,this.shadow.classList.remove("hystmodal__shadow--show"),this.openedWindow.setAttribute("aria-hidden","true"),this.config.catchFocus&&this.focusControl(),this._bodyScrollControl(),this.isOpened=!1,this.openedWindow.scrollTop=0,this.config.afterClose(this),this._reopenTrigger&&(this._reopenTrigger=!1,this.open())}},{key:"focusControl",value:function(){var e=this.openedWindow.querySelectorAll(this._focusElements);this.isOpened&&this.starter?this.starter.focus():e.length&&e[0].focus()}},{key:"focusCatcher",value:function(e){var t,o=this.openedWindow.querySelectorAll(this._focusElements),o=Array.prototype.slice.call(o);this.openedWindow.contains(document.activeElement)?(t=o.indexOf(document.activeElement),e.shiftKey&&0===t&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||t!==o.length-1||(o[0].focus(),e.preventDefault())):(o[0].focus(),e.preventDefault())}},{key:"_bodyScrollControl",value:function(){if(this.config.backscroll){var e=document.querySelectorAll(this.config.fixedSelectors),e=Array.prototype.slice.call(e),t=document.documentElement;if(!0===this.isOpened)return t.classList.remove("hystmodal__opened"),t.style.marginRight="",e.forEach(function(e){e.style.marginRight=""}),window.scrollTo(0,this._scrollPosition),void(t.style.top="");this._scrollPosition=window.pageYOffset;var o=window.innerWidth-t.clientWidth;t.style.top="".concat(-this._scrollPosition,"px"),o&&(t.style.marginRight="".concat(o,"px"),e.forEach(function(e){e.style.marginRight="".concat(parseInt(getComputedStyle(e).marginRight,10)+o,"px")})),t.classList.add("hystmodal__opened")}}}])&&n(e.prototype,o),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();o.default=i},{}],2:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=(e=e("hystmodal"))&&e.__esModule?e:{default:e};o.default={init:function(){new i.default({linkAttributeName:"data-modal",catchFocus:!0,waitTransitions:!0,backscroll:!1})}}},{hystmodal:1}],3:[function(e,t,o){"use strict";var i=(e=e("../libs/modules/modals-form.js"))&&e.__esModule?e:{default:e};document.addEventListener("DOMContentLoaded",function(e){i.default.init()})},{"../libs/modules/modals-form.js":2}]},{},[3]);
//# sourceMappingURL=scripts.min.js.map
